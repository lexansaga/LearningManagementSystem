{% extends 'base.html.twig' %}



{% block title %} My List of Subjects {% endblock %}

{% block body %}
    <!--wrapper start-->
    <div>
        <!--header menu start-->
        <div class="header">
            <div class="header-menu">
                <div class="title">Educa Academy</div>
            </div>
        </div>
        <main>
        
            <div class="content main-content">
            
                    <div class="main-content-wrapper">
                    
                    <table class="table table-hover display" id="datatable">
                    <thead>
                    <tr>
                            <th>Subject Name</th>
                            <th>Action</th>
                            
                        </tr>
                    </thead>
                        
                        <tbody>

                        </tbody>

                    </table>
                    </div>

            
            </div>
        </main>
             <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="//cdn.datatables.net/1.12.1/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/buttons/2.2.3/js/dataTables.buttons.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/buttons/2.2.3/js/buttons.html5.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/buttons/2.2.3/js/buttons.print.min.js"></script>

    <script>
         
        let c = []
        
         
        {% for b in subjects %}
            
            c.push({
                id:"{{b.id}}",
                course:"{{b.courseName}}",
                programclass:"{{b.class}}"
            });   
        {% endfor %}

        $('#datatable').DataTable({
            ordering: true,
            pageLength: 5,
            data:c,
            columns : [
                {data:"course"},
                  { title: "Action", class: "center",data: "id", render: function(data, type, full, meta) {
                    
                    return `<a href="subjects/activities/${full.id}?course=${full.course}&programclass=${full.programclass}">View Subject</a>`
                        
                    }
                    }
                ],
            dom: 'B<"clear">lfrtip',
            buttons: [
                'copy', 'excel', 'pdf', 'csv', 'print'
            ]
        });
        
    </script>
    <script src="assets/js/script.js"></script>
            
           
       
            

        </div>
        <!--main container end-->
   
{% endblock %}
